@model Gestion_Stagiaire.Models.DemandeStage

@{
    ViewData["Title"] = "Détails de la Demande de Stage";
}

<head>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
</head>

<h1 class="page-title">Détails de la Demande de Stage</h1>

<div class="container demande-details">
    <div class="card shadow-sm p-4">
        <h4 class="card-title text-primary">Informations sur la demande</h4>
        <hr />
        <dl class="row">
            <dt class="col-sm-3">Stagiaire</dt>
            <dd class="col-sm-9">@Model.Stagiaire.Nom @Model.Stagiaire.Prenom</dd>

            <dt class="col-sm-3">@Html.DisplayNameFor(model => model.Type_Stage)</dt>
            <dd class="col-sm-9">@Html.DisplayFor(model => model.Type_Stage.Stage_Type)</dd>

            <dt class="col-sm-3">@Html.DisplayNameFor(model => model.Date_Debut)</dt>
            <dd class="col-sm-9">@Model.Date_Debut.ToString("yyyy-MM-dd")</dd>

            <dt class="col-sm-3">@Html.DisplayNameFor(model => model.Date_Fin)</dt>
            <dd class="col-sm-9">@Model.Date_Fin.ToString("yyyy-MM-dd")</dd>

            <dt class="col-sm-3">@Html.DisplayNameFor(model => model.Status)</dt>
            <dd class="col-sm-9">@Html.DisplayFor(model => model.Status.Reponse)</dd>

            <dt class="col-sm-3">Demande de Stage</dt>
            <dd class="col-sm-9">
                @if (!string.IsNullOrEmpty(Model.Path_Demande_Stage))
                {
                    <a href="~/uploads/demandes/@Model.Path_Demande_Stage?timestamp=@DateTime.Now.Ticks" target="_blank" class="btn btn-link">
                        Voir la Demande de Stage
                    </a>
                }
                else
                {
                    <p class="text-danger">Aucune demande de stage disponible</p>
                }
            </dd>

            <dt class="col-sm-3">@Html.DisplayNameFor(model => model.Date_Demande)</dt>
            <dd class="col-sm-9">@Model.Date_Demande.ToString("yyyy-MM-dd HH:mm:ss")</dd>

            <dt class="col-sm-3">@Html.DisplayNameFor(model => model.Departement)</dt>
            <dd class="col-sm-9">@Html.DisplayFor(model => model.Departement.Nom_Departement)</dd>

            <dt class="col-sm-3">@Html.DisplayNameFor(model => model.Encadrant)</dt>
            <dd class="col-sm-9">@Html.DisplayFor(model => model.Encadrant)</dd>

            <dt class="col-sm-3">@Html.DisplayNameFor(model => model.Titre_Projet)</dt>
            <dd class="col-sm-9">@Html.DisplayFor(model => model.Titre_Projet)</dd>

            <dt class="col-sm-3">Rapport de Stage</dt>
            <dd class="col-sm-9">
                @if (!string.IsNullOrEmpty(Model.Path_Rapport))
                {
                    <a href="~/uploads/demandes/@Model.Path_Rapport?timestamp=@DateTime.Now.Ticks" target="_blank" class="btn btn-link">
                        Voir le Rapport de Stage
                    </a>
                }
                else
                {
                    <p class="text-danger">Aucun rapport de stage disponible</p>
                }
            </dd>

            <dt class="col-sm-3">@Html.DisplayNameFor(model => model.Commentaire)</dt>
            <dd class="col-sm-9">@Html.DisplayFor(model => model.Commentaire)</dd>
        </dl>

        <div class="text-center mt-4">
            <a asp-action="Index" class="btn btn-primary">
                <i class="fas fa-arrow-left"></i> Retour à la liste
            </a>
        </div>
    </div>
</div>
<style>
    .page-title {
        font-size: 2.5rem;
        font-weight: bold;
        color: #2c3e50;
        text-align: center;
        margin-bottom: 30px;
        text-transform: uppercase;
        border-bottom: 3px solid #3498db;
        padding-bottom: 10px;
    }

    .demande-details {
        margin-top: 40px;
    }

    .card {
        border-radius: 10px;
        background-color: #ffffff;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .card-title {
        font-size: 1.5rem;
        font-weight: bold;
    }

    dt {
        font-weight: bold;
        color: #2c3e50;
    }

    dd {
        margin-bottom: 15px;
        color: #555;
    }

    .btn-link {
        color: #3498db;
        text-decoration: none;
        font-weight: bold;
        transition: color 0.3s ease;
    }

    .btn-link:hover {
        color: #1d6fa5;
    }

    .btn-primary {
        display: inline-flex;
        align-items: center;
        gap: 5px;
        font-size: 1rem;
        padding: 10px 20px;
        font-weight: bold;
        background-color: #007bff;
        border-color: #007bff;
    }

    .text-danger {
        font-weight: bold;
        color: #e74c3c;
    }
</style>
